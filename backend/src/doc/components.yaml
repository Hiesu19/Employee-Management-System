components:
  # Auth
  schemas:
    User:
      type: object
      properties:
        id:
          type: integer
          example: 1
        email:
          type: string
          format: email
          example: "root@example.com"
        fullName:
          type: string
          example: "Nguyễn Văn A"
        phone:
          type: string
          example: "0123456789"
        role:
          type: string
          enum: [employee, manager, root]
          example: "employee"
        departmentId:
          type: integer
          example: 1
        avatar:
          type: string
          example: "avatar-url.jpg"
        isActive:
          type: boolean
          example: true
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    LoginResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Đăng nhập thành công"
        data:
          type: object
          properties:
            user:
              $ref: "#/components/schemas/User"
            accessToken:
              type: string
              example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

    RefreshTokenResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Làm mới token thành công"
        data:
          type: object
          properties:
            accessToken:
              type: string
              example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

    LogoutResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Logout successfully"
        data:
          type: object
          properties:
            data:
              type: string
              example: "Logout successfully"

    RegisterResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "User created successfully"
        data:
          $ref: "#/components/schemas/User"

    ChangePasswordResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Change password successfully"
        data:
          type: object
          properties:
            data:
              type: string
              example: "Change password successfully"

    # Root
    EmployeeResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Get employee info successfully"
        data:
          $ref: "#/components/schemas/Employee1"

    Employee1:
      type: object
      properties:
        userID:
          type: string
          example: "user102"
        fullName:
          type: string
          example: "Nguyễn Thái Hiếu"
        email:
          type: string
          example: "hieu3@example.com"
        phone:
          type: string
          example: "0900000002"
        role:
          type: string
          example: "employee"
        avatarURL:
          type: string
          example: "avatar-url.jpg"
        mustChangePassword:
          type: boolean
          example: true
        departmentID:
          type: string
          example: "1"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        Department:
          type: object
          properties:
            departmentName:
              type: string
              example: "D1"
            departmentID:
              type: string
              example: "1"

    Employee2:
      type: object
      properties:
        userID:
          type: string
          example: "b91a36c9-be3b-4717-89d9-9ec0fdcf6ed1"
        fullName:
          type: string
          example: "Hiếu"
        email:
          type: string
          example: "hieu1@example.com"
        phone:
          type: string
          example: "0900000002"
        role:
          type: string
          example: "employee"
        departmentID:
          type: string
          example: "1"
        departmentName:
          type: string
          example: "D1"

    EmployeeListResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Get employee list successfully"
        data:
          type: array
          items:
            $ref: "#/components/schemas/Employee1"

    ResetPasswordResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Reset password successfully"
        data:
          type: object
          properties:
            message:
              type: string
              example: "Reset password successfully 2/2"
            emailArraySuccess:
              type: array
              items:
                type: string
              example: ["hieu1@example.com", "user103@example.com"]

    ChangeDepartmentResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Change department successfully"
        data:
          $ref: "#/components/schemas/Employee2"

    ChangeRoleResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Change role successfully Hiếu: employee -> manager"
        data:
          allOf:
            - $ref: "#/components/schemas/Employee2"
            - type: object
              properties:
                oldRole:
                  type: string
                  example: "employee"

    Request:
      type: object
      properties:
        id:
          type: string
          example: "PVnzArd3"
        userID:
          type: string
          example: "user103"
        userEmail:
          type: string
          example: "hieu4@example.com"
        type:
          type: string
          example: "other"
        status:
          type: string
          example: "approved"
        fromDate:
          type: string
          example: "2025-07-29T00:00:00.000Z"
        toDate:
          type: string
          example: "2025-07-29T00:00:00.000Z"
        reason:
          type: string
          example: "Về sớm đi đón con"
        reasonReject:
          type: string
          example: "5b84fd3e-f048-4c7d-a17b-68b97a7a83eb"
        createdAt:
          type: string
          example: "2025-07-29T08:10:26.250Z"
        updatedAt:
          type: string
          example: "2025-07-29T08:13:18.101Z"
        creator:
          type: object
          properties:
            userID:
              type: string
              example: "user103"
            fullName:
              type: string
              example: "Nguyễn Thái Hiếu"
            email:
              type: string
              example: "hieu4@example.com"
        checkedByUser:
          type: object
          properties:
            userID:
              type: string
              example: "5b84fd3e-f048-4c7d-a17b-68b97a7a83eb"
            fullName:
              type: string
              example: "Admin Hiếu"
            email:
              type: string
              example: "root@example.com"

    RequestListResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Get all request by root successfully"
        data:
          type: array
          items:
            $ref: "#/components/schemas/Request"

    DashboardResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Get dashboard successfully"
        data:
          type: object
          properties:
            totalEmployees:
              type: integer
              example: 8
            totalManagers:
              type: integer
              example: 5
            countDepartment:
              type: integer
              example: 2
            totalRequestsPending:
              type: integer
              example: 0
            countCheckInToday:
              type: integer
              example: 1
            countCheckOutToday:
              type: integer
              example: 0

    # Department

    Department:
      type: object
      properties:
        departmentID:
          type: string
          example: "1"
        departmentName:
          type: string
          example: "D1"
        description:
          type: string
          example: "Division 1"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    DepartmentListResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Get department list successfully"
        data:
          type: array
          items:
            $ref: "#/components/schemas/Department"

    DepartmentDetailsResponse:
      type: object
      properties:
        status:
          type: string
          example: "success"
        message:
          type: string
          example: "Get department details successfully"
        data:
          allOf:
            - $ref: "#/components/schemas/Department"
            - type: object
              properties:
                managers:
                  type: array
                  items:
                    $ref: "#/components/schemas/Employee2"
                employees:
                  type: array
                  items:
                    $ref: "#/components/schemas/Employee2"

